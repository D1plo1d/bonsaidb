<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js light">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>How can BonsaiDb be accessed? - BonsaiDb User&#x27;s Guide</title>


        <!-- Custom HTML head -->
        
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        <link rel="icon" href="../favicon.svg">
        <link rel="shortcut icon" href="../favicon.png">
        <link rel="stylesheet" href="../css/variables.css">
        <link rel="stylesheet" href="../css/general.css">
        <link rel="stylesheet" href="../css/chrome.css">
        <link rel="stylesheet" href="../css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="../FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="../fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="../highlight.css">
        <link rel="stylesheet" href="../tomorrow-night.css">
        <link rel="stylesheet" href="../ayu-highlight.css">

        <!-- Custom theme stylesheets -->

    </head>
    <body>
        <!-- Provide site root to javascript -->
        <script>
            var path_to_root = "../";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded affix "><a href="../introduction.html">Introduction</a></li><li class="chapter-item expanded affix "><li class="part-title">About BonsaiDb</li><li class="chapter-item expanded "><a href="../about/concepts.html"><strong aria-hidden="true">1.</strong> Concepts</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../about/concepts/document.html"><strong aria-hidden="true">1.1.</strong> Document</a></li><li class="chapter-item expanded "><a href="../about/concepts/collection.html"><strong aria-hidden="true">1.2.</strong> Collection</a></li><li class="chapter-item expanded "><a href="../about/concepts/view.html"><strong aria-hidden="true">1.3.</strong> View</a></li><li class="chapter-item expanded "><a href="../about/concepts/schema.html"><strong aria-hidden="true">1.4.</strong> Schema</a></li><li class="chapter-item expanded "><a href="../about/concepts/database.html"><strong aria-hidden="true">1.5.</strong> Database</a></li><li class="chapter-item expanded "><a href="../about/concepts/storage.html"><strong aria-hidden="true">1.6.</strong> Storage</a></li><li class="chapter-item expanded "><a href="../about/concepts/pubsub.html"><strong aria-hidden="true">1.7.</strong> PubSub</a></li></ol></li><li class="chapter-item expanded "><a href="../about/access_models.html" class="active"><strong aria-hidden="true">2.</strong> How can BonsaiDb be accessed?</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../about/access-models/custom-api-server.html"><strong aria-hidden="true">2.1.</strong> Custom Api Server</a></li></ol></li><li class="chapter-item expanded "><li class="part-title">Integration</li><li class="chapter-item expanded "><a href="../integration/overview.html"><strong aria-hidden="true">3.</strong> Overview</a></li><li class="chapter-item expanded "><a href="../integration/async.html"><strong aria-hidden="true">4.</strong> Async vs Blocking</a></li><li class="chapter-item expanded "><a href="../integration/local.html"><strong aria-hidden="true">5.</strong> Local</a></li><li class="chapter-item expanded "><a href="../integration/server.html"><strong aria-hidden="true">6.</strong> Networked</a></li><li class="chapter-item expanded "><a href="../integration/cluster.html"><strong aria-hidden="true">7.</strong> Clustered (upcoming)</a></li><li class="chapter-item expanded affix "><li class="part-title">Core Traits</li><li class="chapter-item expanded "><a href="../traits/connection.html"><strong aria-hidden="true">8.</strong> Connection</a></li><li class="chapter-item expanded "><a href="../traits/storage_connection.html"><strong aria-hidden="true">9.</strong> StorageConnection</a></li><li class="chapter-item expanded "><a href="../traits/pubsub.html"><strong aria-hidden="true">10.</strong> PubSub</a></li><li class="chapter-item expanded "><a href="../traits/key-value.html"><strong aria-hidden="true">11.</strong> KeyValue</a></li><li class="chapter-item expanded "><a href="../traits/key.html"><strong aria-hidden="true">12.</strong> Key</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../traits/key/enum.html"><strong aria-hidden="true">12.1.</strong> Using an Enum as a Key</a></li></ol></li><li class="chapter-item expanded "><li class="part-title">Administration</li><li class="chapter-item expanded "><a href="../administration/configuration.html"><strong aria-hidden="true">13.</strong> Configuration</a></li><li class="chapter-item expanded "><a href="../administration/permissions.html"><strong aria-hidden="true">14.</strong> Permissions</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../administration/permission-statements.html"><strong aria-hidden="true">14.1.</strong> Permission Statements</a></li><li class="chapter-item expanded "><a href="../administration/rbac.html"><strong aria-hidden="true">14.2.</strong> Users, Groups, and Roles</a></li></ol></li><li class="chapter-item expanded "><a href="../administration/encryption.html"><strong aria-hidden="true">15.</strong> At-Rest Encryption</a></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky bordered">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">BonsaiDb User&#x27;s Guide</h1>

                    <div class="right-buttons">
                        <a href="../print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="use-cases-of-bonsaidb"><a class="header" href="#use-cases-of-bonsaidb">Use cases of BonsaiDb</a></h1>
<h2 id="single-database-model-no-networking"><a class="header" href="#single-database-model-no-networking">Single database model (No networking)</a></h2>
<p>This use case is most similar to utilizing SQLite for your database. In this mode, BonsaiDb directly interacts with files on your disk to provide your database. Unlike other file-based databases, however, it's easy to migrate to any of these scenarios from this starting position:</p>
<pre class="mermaid">graph LR
  code{{Rust Code}}
  local[(bonsaidb-local::Database)]
  code &lt;--&gt; local
</pre>
<p>A working example of how to use a local database can be found at <a href="https://github.com/khonsulabs/bonsaidb/blob/main/examples/basic-local/examples/basic-local.rs"><code>examples/basic-local/examples/basic-local.rs</code></a>.</p>
<h2 id="multi-database-model-no-networking"><a class="header" href="#multi-database-model-no-networking">Multi-database model (No networking)</a></h2>
<p>This model is most similar to using multiple SQLite databases. In this mode, you interact with a <a href="https://dev.bonsaidb.io/main/docs/bonsaidb/local/struct.Storage.html"><code>Storage</code></a> that you spawn within your code.</p>
<pre class="mermaid">graph LR
  code{{Rust Code}}
  local[(bonsaidb-local::Storage)]
  code &lt;--&gt; server
  server &lt;--&gt; local
</pre>
<p>If you look at the source behind <a href="https://dev.bonsaidb.io/main/docs/bonsaidb/local/struct.Storage.html#method.open_local"><code>Database::open_local</code></a>, you'll see that the single-database model is using <code>Storage</code> under the hood.</p>
<h2 id="server-model-quic-or-websockets"><a class="header" href="#server-model-quic-or-websockets">Server model (QUIC or WebSockets)</a></h2>
<p>This model is most similar to using other document databases, like CouchDB or MongoDB. In this mode, you interact with a <a href="https://dev.bonsaidb.io/main/docs/bonsaidb/client/struct.Client.html"><code>Client</code></a> that connects via either QUIC or WebSockets with a server. From the server code's perspective, this model is the same as the multi-database model, except that the server is listening for and responding to network traffic.</p>
<pre class="mermaid">graph LR
  client-code{{Rust Client Code}}
  server-code{{Rust Server Code}}
  client[[bonsaidb-client]]
  server[[bonsaidb-server]]
  local[(bonsaidb-local)]
  client-code &lt;--&gt; client
  client &lt;-. network .-&gt; server
  server &lt;--&gt; local
  server-code &lt;--&gt; server
</pre>
<p>A working example of this model can be found at <a href="https://github.com/khonsulabs/bonsaidb/blob/main/examples/basic-server/examples/basic-server.rs"><code>examples/basic-server/examples/basic-server.rs</code></a>. When writing client/server applications that utilize BonsaiDb, you can have the BonsaiDb server running withing your server application. This means that your server still has the ability not use networking to interact with BonsaiDb. Regardless of if you run any other server code, your BonsaiDb server will be accessible through a <code>Client</code> over the network.</p>
<h2 id="api-platform-model-quic-or-websockets"><a class="header" href="#api-platform-model-quic-or-websockets">API Platform model (QUIC or WebSockets)</a></h2>
<p>If you're finding yourself developing an API for your application, and all of the consumers of this API are already connected to BonsaiDb, you may want to take advantage of the custom api functionality of the server:</p>
<pre class="mermaid">graph LR
  client-code{{Rust Client Code}}
  server-code{{Rust Server Code}}
  client[[bonsaidb-client]]
  server[[bonsaidb-server]]
  backend[[Backend]]
  local[(bonsaidb-local)]
  client-code &lt;--&gt; client
  client &lt;-. network .-&gt; server
  server &lt;--&gt; local
  server-code &lt;--&gt; server
  server-code &lt;--&gt; backend
  backend &lt;--&gt; server
</pre>
<p>The BonsaiDb <a href="https://dev.bonsaidb.io/main/docs/bonsaidb/server/struct.CustomServer.html"><code>CustomServer</code></a> type accepts one generic parameter that implements the <a href="https://dev.bonsaidb.io/main/docs/bonsaidb/server/trait.Backend.html"><code>Backend</code></a> trait. This trait is used to customize the server in many ways, but one of the associated types is a <a href="https://dev.bonsaidb.io/main/docs/bonsaidb/core/api/trait.Api.html"><code>Api</code></a> implementor.</p>
<p>See <a href="./access-models/custom-api-server.html">this page</a> for an overview of how to set up a custom api server.</p>
<h2 id="coming-later-cluster-model"><a class="header" href="#coming-later-cluster-model">Coming Later: Cluster model</a></h2>
<p>When you're at the stage of scaling beyond a single server, you will be able to upgrade your server to a cluster using the hypothetical <code>bonsaidb-cluster</code> crate. The clustering model is still being designed, but the goal is something similar to:</p>
<pre class="mermaid">graph LR
  client-code{{Rust Client Code}}
  server-code{{Rust Server Code}}
  client[[bonsaidb-client]]
  server1[[server 1]]
  server2[[server 2]]
  server3[[server 3]]
  cluster[[bonsaidb-cluster]]
  client-code &lt;--&gt; client
  client &lt;-. network .-&gt; cluster
  server-code &lt;--&gt; cluster
  cluster &lt;--&gt; server1
  cluster &lt;--&gt; server2
  cluster &lt;--&gt; server3
  server1 &lt;--&gt; server2
  server2 &lt;--&gt; server3
  server1 &lt;--&gt; server3
</pre>
<p>In this model, the local storage element is hidden; Each server has its own storage. This model is very similar from the viewpoint of your server and client code -- the primary difference is that the server-side connection is being established using the cluster crate. From the client's perspective, the cluster behaves as a single entity -- sending a request to any server node will result in the same result within the cluster.</p>
<p>All features of BonsaiDb will be designed to work in cluster mode seamlessly. <code>PubSub</code> will ensure that subscribers will receive messages regardless of which server they're connected to.</p>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="../about/concepts/pubsub.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>

                            <a rel="next" href="../about/access-models/custom-api-server.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="../about/concepts/pubsub.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>

                    <a rel="next" href="../about/access-models/custom-api-server.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
            </nav>

        </div>




        <script>
            window.playground_copyable = true;
        </script>


        <script src="../elasticlunr.min.js"></script>
        <script src="../mark.min.js"></script>
        <script src="../searcher.js"></script>

        <script src="../clipboard.min.js"></script>
        <script src="../highlight.js"></script>
        <script src="../book.js"></script>

        <!-- Custom JS scripts -->
        <script src="../mermaid.min.js"></script>
        <script src="../mermaid-init.js"></script>


    </body>
</html>
