<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="Types for defining database schema."><meta name="keywords" content="rust, rustlang, rust-lang, schema"><title>bonsaidb::core::schema - Rust</title><link rel="preload" as="font" type="font/woff2" crossorigin href="../../../SourceSerif4-Regular.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../../FiraSans-Regular.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../../FiraSans-Medium.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../../SourceCodePro-Regular.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../../SourceSerif4-Bold.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../../SourceCodePro-Semibold.ttf.woff2"><link rel="stylesheet" type="text/css" href="../../../normalize.css"><link rel="stylesheet" type="text/css" href="../../../rustdoc.css" id="mainThemeStyle"><link rel="stylesheet" type="text/css" href="../../../ayu.css" disabled><link rel="stylesheet" type="text/css" href="../../../dark.css" disabled><link rel="stylesheet" type="text/css" href="../../../light.css" id="themeStyle"><script id="default-settings" ></script><script src="../../../storage.js"></script><script defer src="sidebar-items.js"></script><script defer src="../../../main.js"></script><noscript><link rel="stylesheet" href="../../../noscript.css"></noscript><link rel="alternate icon" type="image/png" href="../../../favicon-16x16.png"><link rel="alternate icon" type="image/png" href="../../../favicon-32x32.png"><link rel="icon" type="image/svg+xml" href="../../../favicon.svg"></head><body class="rustdoc mod"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle">&#9776;</button><a class="sidebar-logo" href="../../../bonsaidb/index.html"><div class="logo-container"><img class="rust-logo" src="../../../rust-logo.svg" alt="logo"></div>
        </a><h2 class="location"></h2>
    </nav>
    <nav class="sidebar"><a class="sidebar-logo" href="../../../bonsaidb/index.html"><div class="logo-container"><img class="rust-logo" src="../../../rust-logo.svg" alt="logo"></div>
        </a><h2 class="location"><a href="#">Module schema</a></h2><div class="sidebar-elems"><section><div class="block"><ul><li><a href="#modules">Modules</a></li><li><a href="#structs">Structs</a></li><li><a href="#enums">Enums</a></li><li><a href="#traits">Traits</a></li><li><a href="#types">Type Definitions</a></li><li><a href="#derives">Derive Macros</a></li></ul></div></section></div></nav><main><div class="width-limiter"><div class="sub-container"><a class="sub-logo-container" href="../../../bonsaidb/index.html"><img class="rust-logo" src="../../../rust-logo.svg" alt="logo"></a><nav class="sub"><form class="search-form"><div class="search-container"><span></span><input class="search-input" name="search" autocomplete="off" spellcheck="false" placeholder="Click or press ‘S’ to search, ‘?’ for more options…" type="search"><button type="button" id="help-button" title="help">?</button><div id="settings-menu" tabindex="-1">
                                <a href="../../../settings.html" title="settings"><img width="22" height="22" alt="Change settings" src="../../../wheel.svg"></a></div>
                        </div></form></nav></div><section id="main-content" class="content"><div class="main-heading">
    <h1 class="fqn"><span class="in-band">Module <a href="../../index.html">bonsaidb</a>::<wbr><a href="../index.html">core</a>::<wbr><a class="mod" href="#">schema</a><button id="copy-path" onclick="copy_path(this)" title="Copy item path to clipboard"><img src="../../../clipboard.svg" width="19" height="18" alt="Copy item path"></button></span></h1><span class="out-of-band"><a class="srclink" href="../../../src/bonsaidb_core/lib.rs.html#29">source</a> · <a id="toggle-all-docs" href="javascript:void(0)" title="collapse all docs">[<span class="inner">&#x2212;</span>]</a></span></div><details class="rustdoc-toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>Types for defining database schema.</p>
</div></details><h2 id="modules" class="small-section-header"><a href="#modules">Modules</a></h2>
<div class="item-table"><div class="item-row"><div class="item-left module-item"><a class="mod" href="view/index.html" title="bonsaidb::core::schema::view mod">view</a></div><div class="item-right docblock-short"><p>Types for defining map/reduce-powered <code>View</code>s.</p>
</div></div></div><h2 id="structs" class="small-section-header"><a href="#structs">Structs</a></h2>
<div class="item-table"><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.AsyncEntry.html" title="bonsaidb::core::schema::AsyncEntry struct">AsyncEntry</a></div><div class="item-right docblock-short"><p>A future that resolves to an entry in a <a href="trait.NamedCollection.html" title="NamedCollection"><code>NamedCollection</code></a>.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.AsyncList.html" title="bonsaidb::core::schema::AsyncList struct">AsyncList</a></div><div class="item-right docblock-short"><p>Retrieves a list of documents from a collection, when awaited. This
structure also offers functions to customize the options for the operation.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.Authority.html" title="bonsaidb::core::schema::Authority struct">Authority</a></div><div class="item-right docblock-short"><p>The owner of a schema item. This should represent the company, group, or
individual that created the item in question. This value is used for
namespacing. Changing this after values are in use is not supported without
manual migrations at this time.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.CollectionName.html" title="bonsaidb::core::schema::CollectionName struct">CollectionName</a></div><div class="item-right docblock-short"><p>The namespaced name of a <a href="trait.Collection.html"><code>Collection</code></a>.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.InsertError.html" title="bonsaidb::core::schema::InsertError struct">InsertError</a></div><div class="item-right docblock-short"><p>An error from inserting a <a href="../document/struct.CollectionDocument.html" title="CollectionDocument"><code>CollectionDocument</code></a>.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.InvalidNameError.html" title="bonsaidb::core::schema::InvalidNameError struct">InvalidNameError</a></div><div class="item-right docblock-short"><p>A name was unable to e parsed.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.List.html" title="bonsaidb::core::schema::List struct">List</a></div><div class="item-right docblock-short"><p>Retrieves a list of documents from a collection. This
structure also offers functions to customize the options for the operation.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.Map.html" title="bonsaidb::core::schema::Map struct">Map</a></div><div class="item-right docblock-short"><p>A document’s entry in a View’s mappings.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.MappedValue.html" title="bonsaidb::core::schema::MappedValue struct">MappedValue</a></div><div class="item-right docblock-short"><p>A key value pair</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.Name.html" title="bonsaidb::core::schema::Name struct">Name</a></div><div class="item-right docblock-short"><p>A schema name. Cloning is inexpensive.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.QualifiedName.html" title="bonsaidb::core::schema::QualifiedName struct">QualifiedName</a></div><div class="item-right docblock-short"><p>A namespaced name.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.SchemaName.html" title="bonsaidb::core::schema::SchemaName struct">SchemaName</a></div><div class="item-right docblock-short"><p>The name of a <a href="trait.Schema.html"><code>Schema</code></a>.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.Schematic.html" title="bonsaidb::core::schema::Schematic struct">Schematic</a></div><div class="item-right docblock-short"><p>A collection of defined collections and views.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.ViewName.html" title="bonsaidb::core::schema::ViewName struct">ViewName</a></div><div class="item-right docblock-short"><p>The name of a <a href="trait.View.html"><code>View</code></a>.</p>
</div></div></div><h2 id="enums" class="small-section-header"><a href="#enums">Enums</a></h2>
<div class="item-table"><div class="item-row"><div class="item-left module-item"><a class="enum" href="enum.NamedReference.html" title="bonsaidb::core::schema::NamedReference enum">NamedReference</a></div><div class="item-right docblock-short"><p>A reference to a collection that has a unique name view.</p>
</div></div></div><h2 id="traits" class="small-section-header"><a href="#traits">Traits</a></h2>
<div class="item-table"><div class="item-row"><div class="item-left module-item"><a class="trait" href="trait.Collection.html" title="bonsaidb::core::schema::Collection trait">Collection</a></div><div class="item-right docblock-short"><p>A namespaced collection of <code>Document&lt;Self&gt;</code> items and views.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="trait" href="trait.CollectionViewSchema.html" title="bonsaidb::core::schema::CollectionViewSchema trait">CollectionViewSchema</a></div><div class="item-right docblock-short"><p>A <a href="trait.View.html" title="View"><code>View</code></a> for a <a href="trait.Collection.html" title="Collection"><code>Collection</code></a> that stores Serde-compatible documents. The
only difference between implmementing this and <a href="trait.View.html" title="View"><code>View</code></a> is that the <code>map</code>
function receives a <a href="../document/struct.CollectionDocument.html" title="CollectionDocument"><code>CollectionDocument</code></a> instead of a <a href="../document/struct.BorrowedDocument.html" title="BorrowedDocument"><code>BorrowedDocument</code></a>.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="trait" href="trait.DefaultSerialization.html" title="bonsaidb::core::schema::DefaultSerialization trait">DefaultSerialization</a></div><div class="item-right docblock-short"><p>A convenience trait for easily storing Serde-compatible types in documents.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="trait" href="trait.DefaultViewSerialization.html" title="bonsaidb::core::schema::DefaultViewSerialization trait">DefaultViewSerialization</a></div><div class="item-right docblock-short"><p>A default serialization strategy for views. Uses equivalent settings as
<a href="trait.DefaultSerialization.html"><code>DefaultSerialization</code></a>.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="trait" href="trait.Nameable.html" title="bonsaidb::core::schema::Nameable trait">Nameable</a></div><div class="item-right docblock-short"><p>A type that can be used as a unique reference for a collection that
implements <a href="trait.NamedCollection.html" title="NamedCollection"><code>NamedCollection</code></a>.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="trait" href="trait.NamedCollection.html" title="bonsaidb::core::schema::NamedCollection trait">NamedCollection</a></div><div class="item-right docblock-short"><p>A collection with a unique name column.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="trait" href="trait.Qualified.html" title="bonsaidb::core::schema::Qualified trait">Qualified</a></div><div class="item-right docblock-short"><p>Functions for creating qualified names</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="trait" href="trait.Schema.html" title="bonsaidb::core::schema::Schema trait">Schema</a></div><div class="item-right docblock-short"><p>Defines a group of collections that are stored into a single database.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="trait" href="trait.SerializedCollection.html" title="bonsaidb::core::schema::SerializedCollection trait">SerializedCollection</a></div><div class="item-right docblock-short"><p>A collection that knows how to serialize and deserialize documents to an associated type.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="trait" href="trait.SerializedView.html" title="bonsaidb::core::schema::SerializedView trait">SerializedView</a></div><div class="item-right docblock-short"><p>A <a href="trait.View.html" title="View"><code>View</code></a> with additional tyes and logic to handle serializing view values.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="trait" href="trait.View.html" title="bonsaidb::core::schema::View trait">View</a></div><div class="item-right docblock-short"><p>An lazy index of mapped and/or reduced data from a <a href="trait.Collection.html" title="Collection"><code>Collection</code></a>.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="trait" href="trait.ViewSchema.html" title="bonsaidb::core::schema::ViewSchema trait">ViewSchema</a></div><div class="item-right docblock-short"><p>The implementation of Map/Reduce for a <a href="trait.View.html" title="View"><code>View</code></a>.</p>
</div></div></div><h2 id="types" class="small-section-header"><a href="#types">Type Definitions</a></h2>
<div class="item-table"><div class="item-row"><div class="item-left module-item"><a class="type" href="type.ReduceResult.html" title="bonsaidb::core::schema::ReduceResult type">ReduceResult</a></div><div class="item-right docblock-short"><p>A type alias for the result of <code>ViewSchema::reduce()</code>.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="type" href="type.ViewMapResult.html" title="bonsaidb::core::schema::ViewMapResult type">ViewMapResult</a></div><div class="item-right docblock-short"><p>A type alias for the result of <code>ViewSchema::map()</code>.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="type" href="type.ViewMappedValue.html" title="bonsaidb::core::schema::ViewMappedValue type">ViewMappedValue</a></div><div class="item-right docblock-short"><p>A mapped value in a <a href="trait.View.html" title="View"><code>View</code></a>.</p>
</div></div></div><h2 id="derives" class="small-section-header"><a href="#derives">Derive Macros</a></h2>
<div class="item-table"><div class="item-row"><div class="item-left module-item"><a class="derive" href="derive.Collection.html" title="bonsaidb::core::schema::Collection derive">Collection</a></div><div class="item-right docblock-short"><p>Derives the <code>bonsaidb::core::schema::Collection</code> trait.
<code>#[collection(authority = &quot;Authority&quot;, name = &quot;Name&quot;, views = [a, b, c])]</code></p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="derive" href="derive.Schema.html" title="bonsaidb::core::schema::Schema derive">Schema</a></div><div class="item-right docblock-short"><p>Derives the <code>bonsaidb::core::schema::Schema</code> trait.
<code>#[schema(name = &quot;Name&quot;, authority = &quot;Authority&quot;, collections = [A, B, C]), core = bonsaidb::core]</code>
<code>authority</code>, <code>collections</code> and <code>core</code> are optional</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="derive" href="derive.View.html" title="bonsaidb::core::schema::View derive">View</a></div><div class="item-right docblock-short"><p>Derives the <code>bonsaidb::core::schema::View</code> trait.
<code>#[view(collection=CollectionType, key=KeyType, value=ValueType, name = &quot;by-name&quot;)]</code>
<code>name</code> and <code>value</code> are optional</p>
</div></div></div></section></div></main><div id="rustdoc-vars" data-root-path="../../../" data-current-crate="bonsaidb" data-themes="ayu,dark,light" data-resource-suffix="" data-rustdoc-version="1.63.0 (4b91a6ea7 2022-08-08)" ></div>
</body></html>